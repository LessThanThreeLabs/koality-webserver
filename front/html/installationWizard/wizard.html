<div id="wizard" unselectable>
	<div id="wizardTitle">Welcome to Koality</div>

	<div id="wizardSubtitle">This wizard helps you quickly set up your account</div>

	<div id="wizardBreadcrumbs">
		<div class="wizardBreadcrumb" ng-class="{green: stage == 'licenseKey'}">
			Enter License Key
			<spinner class="wizardBreadcrumbSpinner" spinner-running="stage == 'licenseKey' && waitingOnRequest" />
		</div><!-- Don't remove this space --><div class="wizardBreadcrumb" ng-class="{green: stage == 'admin'}">
			Create your account
			<spinner class="wizardBreadcrumbSpinner" spinner-running="stage == 'admin' && waitingOnRequest" />
		</div><!-- Don't remove this space --><div class="wizardBreadcrumb" ng-class="{green: stage == 'verifyAdmin'}">
			Confirm email
			<spinner class="wizardBreadcrumbSpinner" spinner-running="stage == 'verifyAdmin' && waitingOnRequest" />
		</div><!-- Don't remove this space --><div class="wizardBreadcrumb" ng-class="{green: stage == 'website'}">
			Configure website
			<spinner class="wizardBreadcrumbSpinner" spinner-running="stage == 'website' && waitingOnRequest" />
		</div><!-- Don't remove this space --><div class="wizardBreadcrumb" ng-class="{green: stage == 'aws'}">
			Connect EC2
			<spinner class="wizardBreadcrumbSpinner" spinner-running="stage == 'aws' && waitingOnRequest" />
		</div><!-- Don't remove this space --><div class="wizardBreadcrumb" ng-class="{green: stage == 'invite'}">
			Complete
			<spinner class="wizardBreadcrumbSpinner" spinner-running="stage == 'complete' && waitingOnRequest" />
		</div>
	</div>

	<div id="wizardContent">
		<div class="wizardStage" ng-show="stage == 'licenseKey'">
			<div class="stageInstructions">Enter your License Key to continue</div>

			<form name="licenseKeyForm" novalidate>
				<input type="text" ng-model="license.licenseKey" name="licenseKey" placeholder="1111-2222-3333-4444" ng-pattern="/^[-a-zA-Z0-9]+$/" ng-maxlength="256" required focused>
				<button class="centered" ng-click="completeLicenseKey()" ng-disabled="licenseKeyForm.$invalid">Continue</button>
			</form>

			<div class="stageFooter">
				<divider />
				Don't have a license key? <a href="https://koalitycode.com/pricing" target="_blank">Get one here</a>
			</div>
		</div>

		<div class="wizardStage" ng-show="stage == 'admin'">
			<div class="stageInstructions">Add your account details</div>

			<form name="adminForm" novalidate>
				<label>First Name</label>
				<input type="text" ng-model="admin.firstName" name="firstName" ng-pattern="/^[-'a-zA-Z]+$/" ng-maxlength=64 autocomplete="on" required>
				<form-field-error tooltip="Invalid first name" error-visible="adminForm.firstName.$dirty && adminForm.firstName.$invalid"></form-field-error>
				<br>

				<label>Last Name</label>
				<input type="text" ng-model="admin.lastName" name="lastName" ng-pattern="/^[-'a-zA-Z]+$/" ng-maxlength=64 autocomplete="on" required>
				<form-field-error tooltip="Invalid last name" error-visible="adminForm.lastName.$dirty && adminForm.lastName.$invalid"></form-field-error>
				<br>

				<label>Password<span class="sublabel">Min 8 characters, one letter, one number</span></label>
				<input type="password" ng-model="admin.password" name="password" ng-pattern="/^(?=.*[a-zA-Z])(?=.*\d).+$/" ng-minlength="8" ng-maxlength=256 required>
				<form-field-error tooltip="Password must contain at least 8 characters, a letter, and a number" error-visible="adminForm.password.$dirty && adminForm.password.$invalid"></form-field-error>
				<br>

				<label>Email</label>
				<input type="email" ng-model="admin.email" name="email" ng-maxlength=256 required>
				<form-field-error tooltip="Invalid email address" error-visible="adminForm.email.$dirty && adminForm.email.$invalid"></form-field-error>

				<button class="centered" ng-click="completeAdminInformation()" ng-disabled="adminForm.$invalid">Confirm Email</button>
			</form>
		</div>

		<div class="wizardStage" ng-show="stage == 'verifyAdmin'">
			<div class="stageInstructions">Check your email</div>
			<div class="stageSubInstructions">A token has been sent to <a>{{admin.email}}</a>. Enter the token below to continue. The email may take a few minutes to appear.</div>
			<divider />

			<form name="verifyAdminForm" novalidate>
				<label>Token</label>
				<input type="text" ng-model="admin.verifyToken" name="verifyToken" ng-pattern="/^[a-zA-Z0-9]+$/" ng-maxlength="32" required>
				<button class="centered" ng-click="completeVerifyAdmin()" ng-disabled="verifyAdminForm.$invalid">Continue</button>
			</form>
		</div>

		<div class="wizardStage" ng-show="stage == 'website'">
			<div class="stageInstructions">Where will Koality be deployed?</div>

			<form name="websiteForm" novalidate>
				<label>Domain Name</label>
				<input type="text" ng-model="website.domainName" name="domainName" placeholder="koality.companyname.com" ng-pattern="/^[a-zA-Z0-9]+(-+[a-zA-Z0-9]+)*(.[a-zA-Z0-9]+(-+[a-zA-Z0-9]+)*)*$/" ng-maxlength="256" required>
				<form-field-error tooltip="Invalid domain name" error-visible="websiteForm.domainName.$dirty && websiteForm.domainName.$invalid"></form-field-error>

				<button class="centered" ng-click="completeWebsiteInformation()" ng-disabled="websiteForm.$invalid">Continue</button>
			</form>
		</div>

		<div class="wizardStage" ng-show="stage == 'aws'">
			<div class="stageInstructions">Add your AWS credentials</div>

			<form name="awsForm" novalidate>
				<label>AWS Access Key Id</label>
				<input type="text" ng-model="aws.accessKey" name="accessKey" ng-pattern="/^[\w]+$/" ng-minlength="16" ng-maxlength="32" required>
				<form-field-error tooltip="Invalid AWS Access Key" error-visible="awsForm.accessKey.$dirty && awsForm.accessKey.$invalid"></form-field-error>

				<label>AWS Secret Access Key</label>
				<input type="text" ng-model="aws.secretKey" name="secretKey" ng-maxlength="128" required>
				<form-field-error tooltip="Invalid AWS Secret Access Key" error-visible="awsForm.secretKey.$dirty && awsForm.secretKey.$invalid"></form-field-error>

				<button class="centered" ng-click="completeAwsInformation()" ng-disabled="awsForm.$invalid">Continue</button>
			</form>
		</div>

		<div class="wizardStage" ng-show="stage == 'complete'">
			<div class="stageInstructions">All done!</div>
			<div class="stageSubInstructions">Continue to the admin panel to create your first repository.</div>

			<button class="centered" ng-click="goToCreateRepository()">Continue</button>

			<divider />
			<a ng-click="goToKoality()">Continue to Koality, I'll set up my repository later</a>
		</div>
	</div>

	<div id="wizardFooter">
		Questions? Email <a href="mailto:support@koalitycode.com?subject=Koality%20Support" target="_blank">support@koalitycode.com</a>
	</div>
</div>
