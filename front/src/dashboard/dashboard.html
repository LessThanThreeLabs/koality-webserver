<div id="dashboard">
	<panel>
		<panel-header>Dashboard</panel-header>
		<panel-body>
			<div fading-content>
				<table class="delineated">
					<tr>
						<th class="statusColumn">Status</th>
						<th class="repositoryColumn">Repository</th>
						<th class="changeColumn">Change</th>
						<th class="commitMessageColumn">Commit Message</th>
						<th class="userColumn">Commiter</th>
						<th class="timeColumn">Commit Time</th>
					</tr>
					<tr ng-repeat="change in changes">
						<td class="statusColumn gray" ng-class="{green: change.aggregateStatus == 'passed', orange: change.aggregateStatus == 'skipped', red: change.aggregateStatus == 'failed'}">
							{{change.aggregateStatus}}
						</td>

						<td class="repositoryColumn">
							{{change.repository.name}}
						</td>

						<td class="changeColumn">
							<a ng-href="/repository/{{change.repository.id}}?change={{change.id}}">
								{{change.headCommit.sha | limitTo:12}}
							</a>
						</td>

						<td class="commitMessageColumn">
							{{change.headCommit.message | onlyFirstLine}}
						</td>

						<td class="userColumn">
							<a ng-href="mailto:{{change.user.email}}?subject=Koality%3A%20{{change.repository.name}}%20-%20change%20%23{{change.headCommit.sha | limitTo:4}}" target="_blank">
								{{change.user.name.first}} {{change.user.name.last}}
							</a>
						</td>

						<td class="timeColumn">
							{{change.createTime | date:'MM/dd hh:mm:ss a'}}
						</td>
					</tr>
				</table>
			</div>
		</panel-body>
	</panel>
</div>
